<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- The title will be dynamically updated by JavaScript -->
    <title data-translate-key="meta.title">Proposal: Native Integration of WireGuard VPN into FortiGate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
            color: #e2e8f0; /* slate-200 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 40vh;
            max-height: 450px;
        }
        .topology {
            font-family: monospace;
            white-space: pre;
            background-color: #1e293b; /* slate-800 */
            border: 1px solid #334155; /* slate-700 */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            color: #cbd5e1;
        }
        .cli-code {
            background-color: #0c0e15; /* A darker slate */
            color: #7dd3fc; /* sky-300 */
            font-family: monospace;
            white-space: pre;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .nav-link {
            transition: color 0.2s;
        }
        .nav-link:hover {
            color: #7dd3fc; /* sky-300 */
        }
        .active-tab {
            border-color: #0ea5e9; /* sky-500 */
            color: #0ea5e9; /* sky-500 */
            font-weight: 600;
        }
        .tab-btn {
            transition: all 0.2s;
        }
        .highlight-accent {
            color: #0ea5e9;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-slate-900 shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0 flex items-center">
                    <h1 class="text-xl font-bold text-white" data-translate-key="header.title">FortiGate & WireGuard</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Language selector dropdown -->
                    <select id="language-switcher" class="bg-slate-800 text-slate-300 rounded-md py-1 px-2 text-sm">
                        <option value="en">English</option>
                        <option value="zh">中文</option>
                    </select>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#overview" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-300" data-translate-key="nav.overview">Overview</a>
                            <a href="#comparison" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-300" data-translate-key="nav.comparison">Protocol Comparison</a>
                            <a href="#use-cases" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-300" data-translate-key="nav.use_cases">Use Cases</a>
                            <a href="#analysis" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-300" data-translate-key="nav.analysis">Analysis & Weaknesses</a>
                            <a href="#recommendation" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-300" data-translate-key="nav.recommendation">Conclusion & Recommendation</a>
                            <a href="#references" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-300" data-translate-key="nav.references">References</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        
        <section id="summary" class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold tracking-tight text-white mb-4" data-translate-key="summary.title">Proposal: Native Integration of WireGuard VPN into FortiGate (FortiOS)</h2>
            <p class="text-sm text-slate-400 mb-6" data-translate-key="summary.author">Author: Gemini | Date: August 28, 2025</p>
            <p class="max-w-3xl mx-auto text-lg text-slate-300" data-translate-key="summary.body">
                This proposal recommends that Fortinet natively integrate the high-performance, modern WireGuard VPN protocol into its FortiGate firewall series. This move will provide modern enterprises with a superior VPN solution, especially in remote work, DevOps, and multi-cloud environments, thereby enhancing FortiOS's competitiveness and market appeal.
            </p>
        </section>
        
        <div class="space-y-20">

            <section id="overview">
                <div class="text-center mb-12">
                    <h3 class="text-2xl font-bold text-white" data-translate-key="overview.title">What is WireGuard?</h3>
                    <p class="mt-2 text-md text-slate-400" data-translate-key="overview.subtitle">A next-generation VPN protocol that redefines secure connections.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-slate-800 p-6 rounded-lg shadow-lg">
                        <h4 class="font-semibold text-lg mb-2 text-white" data-translate-key="overview.card1.title">Minimalist Design</h4>
                        <p class="text-slate-300" data-translate-key="overview.card1.body">With only a few thousand lines of code, it significantly reduces the attack surface and potential vulnerabilities, far fewer than IPsec's hundreds of thousands.</p>
                    </div>
                    <div class="bg-slate-800 p-6 rounded-lg shadow-lg">
                        <h4 class="font-semibold text-lg mb-2 text-white" data-translate-key="overview.card2.title">Modern Cryptography</h4>
                        <p class="text-slate-300" data-translate-key="overview.card2.body">Utilizes advanced cryptographic suites like ChaCha20, Poly1305, and Curve25519 to ensure top-tier security.</p>
                    </div>
                    <div class="bg-slate-800 p-6 rounded-lg shadow-lg">
                        <h4 class="font-semibold text-lg mb-2 text-white" data-translate-key="overview.card3.title">Seamless Roaming & NAT Traversal</h4>
                        <p class="text-slate-300" data-translate-key="overview.card3.body">Based on UDP, it has excellent NAT traversal capabilities, allowing connections to remain stable even when the IP changes.</p>
                    </div>
                    <div class="bg-slate-800 p-6 rounded-lg shadow-lg">
                        <h4 class="font-semibold text-lg mb-2 text-white" data-translate-key="overview.card4.title">Native Kernel Support</h4>
                        <p class="text-slate-300" data-translate-key="overview.card4.body">Already integrated into the Linux kernel. Since FortiOS is Linux-based, a high-performance integration is technically feasible.</p>
                    </div>
                </div>
            </section>

            <section id="comparison">
                <div class="text-center mb-12">
                    <h3 class="text-2xl font-bold text-white" data-translate-key="comparison.title">Interactive VPN Protocol Comparison</h3>
                    <p class="mt-2 text-md text-slate-400" data-translate-key="comparison.subtitle">Click the buttons below to dynamically compare the performance of different protocols across various metrics.</p>
                </div>
                <div class="bg-slate-800 p-6 rounded-lg shadow-lg">
                    <div class="flex justify-center flex-wrap gap-2 mb-6">
                        <button class="comparison-btn bg-sky-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-sky-600 transition-colors duration-200" data-metric="performance" data-translate-key="comparison.btn1">Performance</button>
                        <button class="comparison-btn bg-slate-700 text-slate-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-slate-600 transition-colors duration-200" data-metric="configComplexity" data-translate-key="comparison.btn2">Configuration Complexity</button>
                        <button class="comparison-btn bg-slate-700 text-slate-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-slate-600 transition-colors duration-200" data-metric="natTraversal" data-translate-key="comparison.btn3">NAT Traversal</button>
                        <button class="comparison-btn bg-slate-700 text-slate-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-slate-600 transition-colors duration-200" data-metric="encryptionStrength" data-translate-key="comparison.btn4">Encryption Strength</button>
                        <button class="comparison-btn bg-slate-700 text-slate-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-slate-600 transition-colors duration-200" data-metric="clientDeployment" data-translate-key="comparison.btn5">Client Deployment Difficulty</button>
                    </div>
                    <div class="chart-container">
                        <canvas id="vpnComparisonChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="use-cases">
                <div class="text-center mb-12">
                    <h3 class="text-2xl font-bold text-white" data-translate-key="use_cases.title">Three Core Use Cases</h3>
                    <p class="mt-2 text-md text-slate-400" data-translate-key="use_cases.subtitle">Explore how WireGuard can revolutionize connectivity in different network environments.</p>
                </div>
                <div class="bg-slate-800 rounded-lg shadow-lg">
                    <div class="border-b border-slate-700">
                        <nav class="-mb-px flex space-x-4 px-6" aria-label="Tabs">
                            <button class="tab-btn active-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="site-to-site" data-translate-key="use_cases.tab1">Site-to-Site</button>
                            <button class="tab-btn text-slate-400 hover:text-slate-200 hover:border-slate-500 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="site-to-client" data-translate-key="use_cases.tab2">Site-to-Client</button>
                            <button class="tab-btn text-slate-400 hover:text-slate-200 hover:border-slate-500 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="hub-spoke" data-translate-key="use_cases.tab3">Hub-and-Spoke (OSPF)</button>
                        </nav>
                    </div>
                    <div class="p-6">
                        <div id="site-to-site" class="tab-content">
                            <h4 class="text-xl font-semibold mb-2 text-white" data-translate-key="use_cases.site_to_site.title">Site-to-Site</h4>
                            <p class="mb-4 text-slate-300">
                                <span data-translate-key="use_cases.site_to_site.text1"><strong>Traditional Approach:</strong> IPsec VPNs are complex to deploy and difficult to manage, especially in dynamic IP or NAT environments.</span>
                                <br><br><span data-translate-key="use_cases.site_to_site.text2"><strong>WireGuard Approach:</strong> A simple static key architecture allows for easy site-to-site connections. Its superior NAT traversal capability resolves many common connectivity barriers.</span>
                                <br><br><span data-translate-key="use_cases.site_to_site.text3"><strong>Application:</strong> Ideal for companies needing to quickly establish branch office connections or create VPC-to-VPC connections in multi-cloud architectures.</span>
                            </p>
                            <h5 class="font-semibold mt-6 mb-2" data-translate-key="use_cases.site_to_site.topology_title">Topology</h5>
                            <div class="topology mb-4">
+----------------+          +----------------+          +------------------+
|    Office A    |          |    Internet    |          |    Office B      |
| (FortiGate A)  |----------|    Cloud       |----------|   (FortiGate B)  |
| 192.168.1.0/24 |          |                |          |   192.168.2.0/24 |
+----------------+          +----------------+          +------------------+
                            </div>
                            <h5 class="font-semibold mt-6 mb-2" data-translate-key="use_cases.site_to_site.cli_title">Configuration Example (CLI)</h5>
                            <h6 class="font-medium text-slate-400 mb-1" data-translate-key="use_cases.site_to_site.cli_fg_a">FortiGate A</h6>
                            <div class="cli-code">config vpn wireguard
    edit "wg-site-to-site"
        set interface "port1"  // External Interface
        set local-gw 10.0.0.1  // Internal WireGuard Virtual IP
        set local-port 51820
        set local-private-key "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
        config peer
            edit "office-b"
                set peer-gw 10.0.0.2  // Office B's WireGuard Virtual IP
                set endpoint "Office B Public IP"
                set endpoint-port 51820
                set public-key "yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy"
                set allowed-ips "192.168.2.0/24" // Allowed subnet for routing
            next
        end
    next
end</div>
                            <h6 class="font-medium text-slate-400 mt-4 mb-1" data-translate-key="use_cases.site_to_site.cli_fg_b">FortiGate B</h6>
                            <div class="cli-code">config vpn wireguard
    edit "wg-site-to-site"
        set interface "port1"  // External Interface
        set local-gw 10.0.0.2  // Internal WireGuard Virtual IP
        set local-port 51820
        set local-private-key "yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy"
        config peer
            edit "office-a"
                set peer-gw 10.0.0.1  // Office A's WireGuard Virtual IP
                set endpoint "Office A Public IP"
                set endpoint-port 51820
                set public-key "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
                set allowed-ips "192.168.1.0/24" // Allowed subnet for routing
            next
        end
    next
end</div>
                        </div>
                        <div id="site-to-client" class="tab-content" style="display: none;">
                            <h4 class="text-xl font-semibold mb-2 text-white" data-translate-key="use_cases.site_to_client.title">Remote Access (Site-to-Client)</h4>
                            <p class="mb-4 text-slate-300">
                                <span data-translate-key="use_cases.site_to_client.text1"><strong>Traditional Approach:</strong> SSL VPNs require user accounts, certificates, and proprietary client software, increasing management and support overhead.</span>
                                <br><br><span data-translate-key="use_cases.site_to_client.text2"><strong>WireGuard Approach:</strong> Clients can be deployed quickly by scanning a QR code or importing a configuration file, eliminating complex setup.</span>
                                <br><br><span data-translate-key="use_cases.site_to_client.text3"><strong>Application:</strong> Ideal for remote workers, DevOps engineers, and mobile users. Its low power consumption makes it a perfect choice for mobile devices.</span>
                            </p>
                            <h5 class="font-semibold mt-6 mb-2" data-translate-key="use_cases.site_to_client.topology_title">Topology</h5>
                            <div class="topology mb-4">
+------------------+          +-----------------+
|   Headquarters   |          |                 |
| (FortiGate HQ)   |----------|    Internet     |
| 192.168.1.0/24   |          |                 |
+------------------+          +-----------------+
        |                        /      |      \
        |                       /       |       \
        |                      /        |        \
        |               +------------+ +------------+ +------------+
        |               | Remote User| | Remote User| | Remote User|
        |               | (Laptop A) | | (Laptop B) | | (Mobile C) |
        |               | 10.0.0.2   | | 10.0.0.3   | | 10.0.0.4   |
        |               +------------+ +------------+ +------------+
        |
        |---- LAN Zone
                            </div>
                            <h5 class="font-semibold mt-6 mb-2" data-translate-key="use_cases.site_to_client.cli_title">Configuration Example (CLI)</h5>
                            <h6 class="font-medium text-slate-400 mb-1" data-translate-key="use_cases.site_to_client.cli_fg_hq">FortiGate HQ</h6>
                            <div class="cli-code">config vpn wireguard
    edit "wg-remote-access"
        set interface "port1"  // External Interface
        set local-gw 10.0.0.1  // Internal WireGuard Virtual IP
        set local-port 51820
        set local-private-key "zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz"
        config peer
            edit "remote-user-a"
                set peer-gw 10.0.0.2  // User's WireGuard Virtual IP
                set public-key "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
                set allowed-ips "10.0.0.2/32" // Only allow a single IP
            next
            edit "remote-user-b"
                set peer-gw 10.0.0.3
                set public-key "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"
                set allowed-ips "10.0.0.3/32"
            next
            edit "remote-user-c"
                set peer-gw 10.0.0.4
                set public-key "cccccccccccccccccccccccccccccccccccccccccccc"
                set allowed-ips "10.0.0.4/32"
            next
        end
    next
end</div>
                            <h6 class="font-medium text-slate-400 mt-4 mb-1" data-translate-key="use_cases.site_to_client.cli_clients">Remote Client Configurations</h6>
                            <div class="cli-code"><strong>Laptop A</strong>
[Interface]
PrivateKey = aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
Address = 10.0.0.2/24

[Peer]
PublicKey = zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
Endpoint = "Headquarters FortiGate Public IP":51820
AllowedIPs = 192.168.1.0/24 // Allowed internal network subnet
PersistentKeepalive = 25

<strong>Laptop B</strong>
[Interface]
PrivateKey = bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
Address = 10.0.0.3/24

[Peer]
PublicKey = zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
Endpoint = "Headquarters FortiGate Public IP":51820
AllowedIPs = 192.168.1.0/24
PersistentKeepalive = 25

<strong>Mobile C</strong>
[Interface]
PrivateKey = cccccccccccccccccccccccccccccccccccccccccccc
Address = 10.0.0.4/24

[Peer]
PublicKey = zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
Endpoint = "Headquarters FortiGate Public IP":51820
AllowedIPs = 192.168.1.0/24
PersistentKeepalive = 25</div>
                        </div>
                        <div id="hub-spoke" class="tab-content" style="display: none;">
                            <h4 class="text-xl font-semibold mb-2 text-white" data-translate-key="use_cases.hub_spoke.title">Hub-and-Spoke with OSPF Dynamic Routing</h4>
                            <p class="mb-4 text-slate-300">
                                <span data-translate-key="use_cases.hub_spoke.text1"><strong>Traditional Approach:</strong> Requires manual, static route configuration on all devices, making the network difficult to scale and maintain.</span>
                                <br><br><span data-translate-key="use_cases.hub_spoke.text2"><strong>WireGuard with OSPF Approach:</strong> Automates the exchange of routing information, eliminating complex and time-consuming static route configurations. This makes the network more scalable and resilient.</span>
                                <br><br><span data-translate-key="use_cases.hub_spoke.text3"><strong>Application:</strong> Ideal for enterprises with multiple branch offices or a dispersed network architecture that requires dynamic and automated routing.</span>
                            </p>
                            <h5 class="font-semibold mt-6 mb-2" data-translate-key="use_cases.hub_spoke.topology_title">Topology</h5>
                            <div class="topology mb-4">
            +---------------------------+
            |      Headquarters         |
            |    (FortiGate HUB)        |
            |    192.168.10.0/24        |
            |    OSPF Router ID: 1.1.1.1 |
            +----------+----------------+
                       | WireGuard Tunnel (10.0.0.1/24)
                       | OSPF Area 0.0.0.0
      +-------------------+--------------------+
      |                   |                    |
+--------+--------+   +------+----------+   +--------+--------+
| Branch Office A |   | Branch Office B |   | Branch Office C |
| (FortiGate A)   |   | (FortiGate B)   |   | (FortiGate C)   |
| 192.168.20.0/24 |   | 192.168.30.0/24 |   | 192.168.40.0/24 |
| OSPF Router ID: |   | OSPF Router ID: |   | OSPF Router ID: |
| 2.2.2.2         |   | 3.3.3.3         |   | 4.4.4.4         |
+-----------------+   +-----------------+   +-----------------+
                            </div>
                            <h5 class="font-semibold mt-6 mb-2" data-translate-key="use_cases.hub_spoke.cli_title">Configuration Example (CLI)</h5>
                            <h6 class="font-medium text-slate-400 mb-1" data-translate-key="use_cases.hub_spoke.cli_fg_hub">FortiGate HUB (10.0.0.1)</h6>
                            <div class="cli-code">config vpn wireguard
    edit "wg-hub"
        set interface "wan1"  // External Interface
        set local-gw 10.0.0.1/24  // WireGuard Virtual IP on Hub
        set local-port 51820
        set local-private-key "hub-private-key"
        config peer
            edit "spoke-a"
                set peer-gw 10.0.0.2  // Spoke A's WireGuard IP
                set endpoint "Spoke A Public IP"
                set endpoint-port 51820
                set public-key "spoke-a-public-key"
                set allowed-ips "10.0.0.2/32" // Only allow the peer IP
            next
            edit "spoke-b"
                set peer-gw 10.0.0.3  // Spoke B's WireGuard IP
                set endpoint "Spoke B Public IP"
                set endpoint-port 51820
                set public-key "spoke-b-public-key"
                set allowed-ips "10.0.0.3/32"
            next
            // Add more peers for each spoke
        end
    next
end

config router ospf
    set router-id 1.1.1.1
    config area
        edit 0.0.0.0
        next
    end
    config network
        edit 1
            set prefix 10.0.0.0 255.255.255.0  // WireGuard tunnel network
        next
        edit 2
            set prefix 192.168.10.0 255.255.255.0  // Hub's LAN network
        next
    end
    config redistribute "connected"
        set status enable
        set protocol connected
    end
end</div>
                            <h6 class="font-medium text-slate-400 mt-4 mb-1" data-translate-key="use_cases.hub_spoke.cli_fg_spoke">FortiGate Spoke A (10.0.0.2)</h6>
                            <div class="cli-code">config vpn wireguard
    edit "wg-spoke"
        set interface "wan1"  // External Interface
        set local-gw 10.0.0.2/24  // WireGuard Virtual IP on Spoke A
        set local-port 51820
        set local-private-key "spoke-a-private-key"
        config peer
            edit "hub"
                set peer-gw 10.0.0.1  // Hub's WireGuard IP
                set endpoint "Hub Public IP"
                set endpoint-port 51820
                set public-key "hub-public-key"
                set allowed-ips "0.0.0.0/0" // Allow all traffic from the hub
            next
        end
    next
end

config router ospf
    set router-id 2.2.2.2
    config area
        edit 0.0.0.0
        next
    end
    config network
        edit 1
            set prefix 10.0.0.0 255.255.255.0  // WireGuard tunnel network
        next
        edit 2
            set prefix 192.168.20.0 255.255.255.0  // Spoke A's LAN network
        next
    end
    config redistribute "connected"
        set status enable
        set protocol connected
    end
end</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="analysis">
                <div class="text-center mb-12">
                    <h3 class="text-2xl font-bold text-white" data-translate-key="analysis.title">Potential Weaknesses and Solutions</h3>
                    <p class="mt-2 text-md text-slate-400" data-translate-key="analysis.subtitle">Addressing potential challenges and proposing feasible integration solutions within the Fortinet ecosystem.</p>
                </div>
                <div class="max-w-3xl mx-auto space-y-4">
                    <div class="accordion-item bg-slate-800 rounded-lg shadow-lg">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-slate-300" data-translate-key="analysis.weakness1.title">
                            <span>Lack of Username/Password or MFA Support</span>
                            <span class="accordion-icon transform transition-transform duration-200 text-sky-500">+</span>
                        </button>
                        <div class="accordion-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                            <p class="p-4 pt-0 text-slate-400"><span data-translate-key="analysis.weakness1.body"><strong>Solution:</strong> Integrate with <strong class='text-sky-500'>FortiAuthenticator</strong> to enable multi-factor authentication (MFA) or other enterprise authentication mechanisms.</span></p>
                        </div>
                    </div>
                    <div class="accordion-item bg-slate-800 rounded-lg shadow-lg">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-slate-300" data-translate-key="analysis.weakness2.title">
                            <span>UDP-Only Transport</span>
                             <span class="accordion-icon transform transition-transform duration-200 text-sky-500">+</span>
                        </button>
                        <div class="accordion-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                            <p class="p-4 pt-0 text-slate-400"><span data-translate-key="analysis.weakness2.body"><strong>Solution:</strong> Consider future support for WireGuard based on the <strong class='text-sky-500'>QUIC</strong> protocol to enhance its traversal capabilities.</span></p>
                        </div>
                    </div>
                    <div class="accordion-item bg-slate-800 rounded-lg shadow-lg">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-slate-300" data-translate-key="analysis.weakness3.title">
                            <span>Insufficient Logging</span>
                             <span class="accordion-icon transform transition-transform duration-200 text-sky-500">+</span>
                        </button>
                        <div class="accordion-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                            <p class="p-4 pt-0 text-slate-400"><span data-translate-key="analysis.weakness3.body"><strong>Solution:</strong> Extend the logging system in FortiOS to record handshake, peer status, and traffic details, and fully integrate with <strong class='text-sky-500'>FortiAnalyzer</strong> for comprehensive visibility and analysis.</span></p>
                        </div>
                    </div>
                     <div class="accordion-item bg-slate-800 rounded-lg shadow-lg">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-slate-300" data-translate-key="analysis.weakness4.title">
                            <span>Compliance Considerations</span>
                             <span class="accordion-icon transform transition-transform duration-200 text-sky-500">+</span>
                        </button>
                        <div class="accordion-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                            <p class="p-4 pt-0 text-slate-400"><span data-translate-key="analysis.weakness4.body"><strong>Solution:</strong> Offer WireGuard as an optional module that can be disabled in specific regions or industries to ensure compliance with regulations such as FIPS.</span></p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="recommendation" class="bg-sky-600 text-white rounded-lg p-8 md:p-12 text-center">
                <h3 class="text-2xl md:text-3xl font-bold mb-4" data-translate-key="recommendation.title">Conclusion and Final Recommendation</h3>
                <p class="max-w-3xl mx-auto text-lg text-sky-100 mb-6" data-translate-key="recommendation.body1">
                    WireGuard combines high performance, ease of deployment, and robust security, perfectly aligning with the needs of modern IT environments. Natively integrating it into FortiOS will not only solve the pain points of traditional VPNs but also open up new business opportunities for Fortinet in fast-growing markets such as DevOps, IoT, and SMBs.
                </p>
                <p class="max-w-3xl mx-auto text-lg font-semibold text-white" data-translate-key="recommendation.body2">
                    We strongly recommend that Fortinet prioritize the evaluation and native integration of WireGuard. This investment will significantly enhance FortiGate's flexibility and competitiveness, injecting new momentum into the company's long-term development.
                </p>
            </section>

            <section id="references" class="py-12">
                <div class="text-center mb-8">
                    <h3 class="text-2xl font-bold text-white" data-translate-key="references.title">Technical References</h3>
                </div>
                <div class="bg-slate-800 rounded-lg p-8 shadow-lg max-w-4xl mx-auto">
                    <ul class="space-y-4 list-disc list-inside">
                        <li>
                            <a href="https://www.wireguard.com/" target="_blank" class="text-sky-400 hover:text-white transition-colors duration-200" data-translate-key="references.link1">WireGuard Official Website</a>
                        </li>
                        <li>
                            <a href="https://docs.128technology.com/docs/plugin_wireguard" target="_blank" class="text-sky-400 hover:text-white transition-colors duration-200" data-translate-key="references.link2">Juniper WireGuard Docs</a>
                        </li>
                        <li>
                            <a href="https://help.mikrotik.com/docs/spaces/ROS/pages/69664792/WireGuard" target="_blank" class="text-sky-400 hover:text-white transition-colors duration-200" data-translate-key="references.link3">MikroTik WireGuard Docs</a>
                        </li>
                        <li>
                            <a href="https://help.ui.com/hc/en-us/articles/115005445768-UniFi-Security-Gateway-USG-Introduction-to-IPsec-Site-to-Site-VPNs" target="_blank" class="text-sky-400 hover:text-white transition-colors duration-200" data-translate-key="references.link4">Ubiquiti UniFi WireGuard Docs</a>
                        </li>
                    </ul>
                </div>
            </section>

        </div>
    </main>

    <footer class="bg-slate-900 py-8 text-center text-sm text-slate-500">
        <p data-translate-key="footer.text">&copy; 2025 Gemini. All rights reserved.</p>
    </footer>

    <script>
        // Data for the comparison chart
        const comparisonData = {
            performance: [100, 60, 50],
            configComplexity: [20, 90, 80],
            natTraversal: [95, 70, 60],
            encryptionStrength: [98, 95, 90],
            clientDeployment: [100, 50, 70]
        };
        const labels = ['WireGuard', 'IPsec', 'SSL VPN'];
        const colors = ['#0ea5e9', '#3b82f6', '#10b981']; // sky-500, blue-500, emerald-500

        // Chart.js configuration
        const ctx = document.getElementById('vpnComparisonChart').getContext('2d');
        const vpnChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Performance Score',
                    data: comparisonData.performance,
                    backgroundColor: colors,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#cbd5e1'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: '#cbd5e1'
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#cbd5e1'
                        }
                    }
                }
            }
        });

        // Event listener for comparison buttons
        document.querySelectorAll('.comparison-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const metric = event.target.dataset.metric;
                const newLabel = event.target.textContent;

                // Update chart data and label
                vpnChart.data.datasets[0].data = comparisonData[metric];
                vpnChart.data.datasets[0].label = newLabel + ' Score';
                vpnChart.update();

                // Update button styles
                document.querySelectorAll('.comparison-btn').forEach(btn => {
                    btn.classList.remove('bg-sky-500', 'text-white');
                    btn.classList.add('bg-slate-700', 'text-slate-300');
                });
                event.target.classList.remove('bg-slate-700', 'text-slate-300');
                event.target.classList.add('bg-sky-500', 'text-white');
            });
        });

        // Event listener for tabs
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const tab = event.target.dataset.tab;
                
                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.style.display = 'none';
                });

                // Show the selected tab content
                document.getElementById(tab).style.display = 'block';

                // Update button styles
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active-tab');
                    btn.classList.add('text-slate-400', 'hover:text-slate-200', 'hover:border-slate-500');
                });
                event.target.classList.add('active-tab');
                event.target.classList.remove('text-slate-400', 'hover:text-slate-200', 'hover:border-slate-500');
            });
        });

        // Event listener for accordions
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const icon = header.querySelector('.accordion-icon');
                
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    icon.style.transform = 'rotate(0deg)';
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                    icon.style.transform = 'rotate(45deg)';
                }
            });
        });

        // Language translation functionality
        const translations = {
            en: {
                "meta.title": "Proposal: Native Integration of WireGuard VPN into FortiGate",
                "header.title": "FortiGate & WireGuard",
                "nav.overview": "Overview",
                "nav.comparison": "Protocol Comparison",
                "nav.use_cases": "Use Cases",
                "nav.analysis": "Analysis & Weaknesses",
                "nav.recommendation": "Conclusion & Recommendation",
                "nav.references": "References",
                "summary.title": "Proposal: Native Integration of WireGuard VPN into FortiGate (FortiOS)",
                "summary.author": "Author: Gemini | Date: August 28, 2025",
                "summary.body": "This proposal recommends that Fortinet natively integrate the high-performance, modern WireGuard VPN protocol into its FortiGate firewall series. This move will provide modern enterprises with a superior VPN solution, especially in remote work, DevOps, and multi-cloud environments, thereby enhancing FortiOS's competitiveness and market appeal.",
                "overview.title": "What is WireGuard?",
                "overview.subtitle": "A next-generation VPN protocol that redefines secure connections.",
                "overview.card1.title": "Minimalist Design",
                "overview.card1.body": "With only a few thousand lines of code, it significantly reduces the attack surface and potential vulnerabilities, far fewer than IPsec's hundreds of thousands.",
                "overview.card2.title": "Modern Cryptography",
                "overview.card2.body": "Utilizes advanced cryptographic suites like ChaCha20, Poly1305, and Curve25519 to ensure top-tier security.",
                "overview.card3.title": "Seamless Roaming & NAT Traversal",
                "overview.card3.body": "Based on UDP, it has excellent NAT traversal capabilities, allowing connections to remain stable even when the IP changes.",
                "overview.card4.title": "Native Kernel Support",
                "overview.card4.body": "Already integrated into the Linux kernel. Since FortiOS is Linux-based, a high-performance integration is technically feasible.",
                "comparison.title": "Interactive VPN Protocol Comparison",
                "comparison.subtitle": "Click the buttons below to dynamically compare the performance of different protocols across various metrics.",
                "comparison.btn1": "Performance",
                "comparison.btn2": "Configuration Complexity",
                "comparison.btn3": "NAT Traversal",
                "comparison.btn4": "Encryption Strength",
                "comparison.btn5": "Client Deployment Difficulty",
                "use_cases.title": "Three Core Use Cases",
                "use_cases.subtitle": "Explore how WireGuard can revolutionize connectivity in different network environments.",
                "use_cases.tab1": "Site-to-Site",
                "use_cases.tab2": "Site-to-Client",
                "use_cases.tab3": "Hub-and-Spoke (OSPF)",
                "use_cases.site_to_site.title": "Site-to-Site",
                "use_cases.site_to_site.text1": "<strong>Traditional Approach:</strong> IPsec VPNs are complex to deploy and difficult to manage, especially in dynamic IP or NAT environments.",
                "use_cases.site_to_site.text2": "<strong>WireGuard Approach:</strong> A simple static key architecture allows for easy site-to-site connections. Its superior NAT traversal capability resolves many common connectivity barriers.",
                "use_cases.site_to_site.text3": "<strong>Application:</strong> Ideal for companies needing to quickly establish branch office connections or create VPC-to-VPC connections in multi-cloud architectures.",
                "use_cases.site_to_site.topology_title": "Topology",
                "use_cases.site_to_site.cli_title": "Configuration Example (CLI)",
                "use_cases.site_to_site.cli_fg_a": "FortiGate A",
                "use_cases.site_to_site.cli_fg_b": "FortiGate B",
                "use_cases.site_to_client.title": "Remote Access (Site-to-Client)",
                "use_cases.site_to_client.text1": "<strong>Traditional Approach:</strong> SSL VPNs require user accounts, certificates, and proprietary client software, increasing management and support overhead.",
                "use_cases.site_to_client.text2": "<strong>WireGuard Approach:</strong> Clients can be deployed quickly by scanning a QR code or importing a configuration file, eliminating complex setup.",
                "use_cases.site_to_client.text3": "<strong>Application:</strong> Ideal for remote workers, DevOps engineers, and mobile users. Its low power consumption makes it a perfect choice for mobile devices.",
                "use_cases.site_to_client.topology_title": "Topology",
                "use_cases.site_to_client.cli_title": "Configuration Example (CLI)",
                "use_cases.site_to_client.cli_fg_hq": "FortiGate HQ",
                "use_cases.site_to_client.cli_clients": "Remote Client Configurations",
                "use_cases.hub_spoke.title": "Hub-and-Spoke with OSPF Dynamic Routing",
                "use_cases.hub_spoke.text1": "<strong>Traditional Approach:</strong> Requires manual, static route configuration on all devices, making the network difficult to scale and maintain.",
                "use_cases.hub_spoke.text2": "<strong>WireGuard with OSPF Approach:</strong> Automates the exchange of routing information, eliminating complex and time-consuming static route configurations. This makes the network more scalable and resilient.",
                "use_cases.hub_spoke.text3": "<strong>Application:</strong> Ideal for enterprises with multiple branch offices or a dispersed network architecture that requires dynamic and automated routing.",
                "use_cases.hub_spoke.topology_title": "Topology",
                "use_cases.hub_spoke.cli_title": "Configuration Example (CLI)",
                "use_cases.hub_spoke.cli_fg_hub": "FortiGate HUB (10.0.0.1)",
                "use_cases.hub_spoke.cli_fg_spoke": "FortiGate Spoke A (10.0.0.2)",
                "analysis.title": "Potential Weaknesses and Solutions",
                "analysis.subtitle": "Addressing potential challenges and proposing feasible integration solutions within the Fortinet ecosystem.",
                "analysis.weakness1.title": "Lack of Username/Password or MFA Support",
                "analysis.weakness1.body": "<strong>Solution:</strong> Integrate with <strong class='text-sky-500'>FortiAuthenticator</strong> to enable multi-factor authentication (MFA) or other enterprise authentication mechanisms.",
                "analysis.weakness2.title": "UDP-Only Transport",
                "analysis.weakness2.body": "<strong>Solution:</strong> Consider future support for WireGuard based on the <strong class='text-sky-500'>QUIC</strong> protocol to enhance its traversal capabilities.",
                "analysis.weakness3.title": "Insufficient Logging",
                "analysis.weakness3.body": "<strong>Solution:</strong> Extend the logging system in FortiOS to record handshake, peer status, and traffic details, and fully integrate with <strong class='text-sky-500'>FortiAnalyzer</strong> for comprehensive visibility and analysis.",
                "analysis.weakness4.title": "Compliance Considerations",
                "analysis.weakness4.body": "<strong>Solution:</strong> Offer WireGuard as an optional module that can be disabled in specific regions or industries to ensure compliance with regulations such as FIPS.",
                "recommendation.title": "Conclusion and Final Recommendation",
                "recommendation.body1": "WireGuard combines high performance, ease of deployment, and robust security, perfectly aligning with the needs of modern IT environments. Natively integrating it into FortiOS will not only solve the pain points of traditional VPNs but also open up new business opportunities for Fortinet in fast-growing markets such as DevOps, IoT, and SMBs.",
                "recommendation.body2": "We strongly recommend that Fortinet prioritize the evaluation and native integration of WireGuard. This investment will significantly enhance FortiGate's flexibility and competitiveness, injecting new momentum into the company's long-term development.",
                "references.title": "Technical References",
                "references.link1": "WireGuard Official Website",
                "references.link2": "Juniper WireGuard Docs",
                "references.link3": "MikroTik WireGuard Docs",
                "references.link4": "Ubiquiti UniFi WireGuard Docs",
                "footer.text": "&copy; 2025 Gemini. All rights reserved."
            },
            zh: {
                "meta.title": "提案：將 WireGuard VPN 原生整合至 FortiGate",
                "header.title": "FortiGate 與 WireGuard",
                "nav.overview": "概述",
                "nav.comparison": "協議比較",
                "nav.use_cases": "核心應用場景",
                "nav.analysis": "分析與解決方案",
                "nav.recommendation": "結論與建議",
                "nav.references": "技術參考",
                "summary.title": "提案：將 WireGuard VPN 原生整合至 FortiGate (FortiOS)",
                "summary.author": "作者：Gemini | 日期：2025年8月28日",
                "summary.body": "本提案旨在建議 Fortinet 將高效能的現代 WireGuard VPN 協定原生整合至其 FortiGate 防火牆系列中。此舉將為現代企業提供卓越的 VPN 解決方案，特別是在遠距辦公、DevOps 和多雲環境中，從而提升 FortiOS 的競爭力及市場吸引力。",
                "overview.title": "什麼是 WireGuard？",
                "overview.subtitle": "重新定義安全連接的下一代 VPN 協定。",
                "overview.card1.title": "極簡設計",
                "overview.card1.body": "僅有數千行程式碼，相較於數十萬行的 IPsec 大幅縮小了攻擊面並減少了潛在漏洞。",
                "overview.card2.title": "現代加密技術",
                "overview.card2.body": "採用先進的加密套件如 ChaCha20、Poly1305 和 Curve25519，確保頂級的安全性。",
                "overview.card3.title": "無縫漫遊與 NAT 穿透",
                "overview.card3.body": "基於 UDP，具備出色的 NAT 穿透能力，即使 IP 位址改變也能保持連線穩定。",
                "overview.card4.title": "原生核心支援",
                "overview.card4.body": "已原生整合於 Linux 核心中。由於 FortiOS 基於 Linux，因此高效能的整合技術上可行。",
                "comparison.title": "VPN 協定互動式比較",
                "comparison.subtitle": "點擊下方按鈕，動態比較不同協定在各項指標上的表現。",
                "comparison.btn1": "效能",
                "comparison.btn2": "組態複雜度",
                "comparison.btn3": "NAT 穿透能力",
                "comparison.btn4": "加密強度",
                "comparison.btn5": "客戶端部署難度",
                "use_cases.title": "三個核心應用場景",
                "use_cases.subtitle": "探索 WireGuard 如何在不同網路環境中革新連接性。",
                "use_cases.tab1": "站對站 (Site-to-Site)",
                "use_cases.tab2": "站對客戶端 (Site-to-Client)",
                "use_cases.tab3": "軸輻式架構 (OSPF)",
                "use_cases.site_to_site.title": "站對站 (Site-to-Site)",
                "use_cases.site_to_site.text1": "<strong>傳統方式：</strong>IPsec VPN 部署複雜且難以管理，在動態 IP 或 NAT 環境中尤其如此。",
                "use_cases.site_to_site.text2": "<strong>WireGuard 方式：</strong>簡單的靜態金鑰架構實現輕鬆的站對站連接。其卓越的 NAT 穿透能力解決了許多常見的連線障礙。",
                "use_cases.site_to_site.text3": "<strong>應用：</strong>適合需要快速建立分支辦公室連接或在多雲架構中創建 VPC-to-VPC 連接的公司。",
                "use_cases.site_to_site.topology_title": "拓撲圖",
                "use_cases.site_to_site.cli_title": "組態範例 (CLI)",
                "use_cases.site_to_site.cli_fg_a": "FortiGate A",
                "use_cases.site_to_site.cli_fg_b": "FortiGate B",
                "use_cases.site_to_client.title": "遠端存取 (Site-to-Client)",
                "use_cases.site_to_client.text1": "<strong>傳統方式：</strong>SSL VPN 需要使用者帳戶、憑證和專屬客戶端軟體，增加了管理和支援負擔。",
                "use_cases.site_to_client.text2": "<strong>WireGuard 方式：</strong>客戶端可透過掃描 QR Code 或匯入組態檔快速部署，省去複雜的設定。",
                "use_cases.site_to_client.text3": "<strong>應用：</strong>適合遠距工作者、DevOps 工程師和行動用戶。其低功耗特性使其成為行動裝置的完美選擇。",
                "use_cases.site_to_client.topology_title": "拓撲圖",
                "use_cases.site_to_client.cli_title": "組態範例 (CLI)",
                "use_cases.site_to_client.cli_fg_hq": "總部 FortiGate",
                "use_cases.site_to_client.cli_clients": "遠端客戶端組態",
                "use_cases.hub_spoke.title": "採用 OSPF 動態路由的軸輻式架構 (Hub-and-Spoke)",
                "use_cases.hub_spoke.text1": "<strong>傳統方式：</strong>需要在所有設備上進行手動、靜態路由組態，使網路難以擴展和維護。",
                "use_cases.hub_spoke.text2": "<strong>WireGuard 結合 OSPF：</strong>自動化路由資訊的交換，省去複雜且耗時的靜態路由設定。這使網路更具擴展性和彈性。",
                "use_cases.hub_spoke.text3": "<strong>應用：</strong>適合擁有眾多分支辦公室或分散式網路架構的企業，需要動態和自動化的路由。",
                "use_cases.hub_spoke.topology_title": "拓撲圖",
                "use_cases.hub_spoke.cli_title": "組態範例 (CLI)",
                "use_cases.hub_spoke.cli_fg_hub": "總部 FortiGate (10.0.0.1)",
                "use_cases.hub_spoke.cli_fg_spoke": "分支 FortiGate A (10.0.0.2)",
                "analysis.title": "潛在弱點與解決方案",
                "analysis.subtitle": "解決潛在挑戰並提出 Fortinet 生態系統內可行的整合方案。",
                "analysis.weakness1.title": "缺乏使用者名稱/密碼或 MFA 支援",
                "analysis.weakness1.body": "<strong>解決方案：</strong>整合 <strong class='text-sky-500'>FortiAuthenticator</strong> 以啟用多因子驗證 (MFA) 或其他企業級驗證機制。",
                "analysis.weakness2.title": "僅支援 UDP 傳輸",
                "analysis.weakness2.body": "<strong>解決方案：</strong>考量未來支援基於 <strong class='text-sky-500'>QUIC</strong> 協定的 WireGuard，以提升其穿透能力。",
                "analysis.weakness3.title": "日誌紀錄不足",
                "analysis.weakness3.body": "<strong>解決方案：</strong>擴展 FortiOS 中的日誌系統，紀錄交握、對等體狀態和流量詳情，並完全整合至 <strong class='text-sky-500'>FortiAnalyzer</strong> 以進行全面的可視化和分析。",
                "analysis.weakness4.title": "合規性考量",
                "analysis.weakness4.body": "<strong>解決方案：</strong>將 WireGuard 作為可選模組提供，以確保在特定地區或行業（如 FIPS）中，可以依照法規要求將其停用。",
                "recommendation.title": "結論與最終建議",
                "recommendation.body1": "WireGuard 結合了高效能、易於部署和強大的安全性，完美符合現代 IT 環境的需求。將其原生整合至 FortiOS 中，不僅能解決傳統 VPN 的痛點，更能為 Fortinet 在 DevOps、物聯網和中小型企業等快速成長的市場中開拓新的商機。",
                "recommendation.body2": "我們強烈建議 Fortinet 優先評估並原生整合 WireGuard。這項投資將顯著提升 FortiGate 的彈性和競爭力，為公司的長期發展注入新的動力。",
                "references.title": "技術參考",
                "references.link1": "WireGuard 官方網站",
                "references.link2": "Juniper WireGuard 文件",
                "references.link3": "MikroTik WireGuard 文件",
                "references.link4": "Ubiquiti UniFi WireGuard 文件",
                "footer.text": "&copy; 2025 Gemini. All rights reserved."
            }
        };

        const languageSwitcher = document.getElementById('language-switcher');
        function updateContent(lang) {
            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.getAttribute('data-translate-key');
                if (translations[lang][key]) {
                    element.innerHTML = translations[lang][key];
                }
            });
        }
        
        languageSwitcher.addEventListener('change', (event) => {
            updateContent(event.target.value);
        });

        // Initialize content on page load with the default language (English)
        updateContent('en');
    </script>
</body>
</html>
